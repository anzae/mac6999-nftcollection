// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.1;
// Primeiro importamos alguns contratos do OpenZeppelin.
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/utils/Counters.sol";
import "hardhat/console.sol";

// Nós herdamos o contrato que importamos. Isso significa que
// teremos acesso aos métodos do contrato herdado.
contract MyEpicNFT is ERC721URIStorage {

    // Mágica dada pelo OpenZeppelin para nos ajudar a observar os tokenIds.
    using Counters for Counters.Counter;
    Counters.Counter private _tokenIds;

    // Nós precisamos passar o nome do nosso token NFT e o símbolo dele.
    constructor() ERC721 ("SquareNFT", "SQUARE"){
      console.log("Esse eh meu contrato de NFT! Tchu-hu");
    }
    // Uma função que o nosso usuário irá chamar para pegar sua NFT.
    function makeAnEpicNFT() public {

        // Pega o tokenId atual, que começa por 0.
        uint256 newItemId = _tokenIds.current();

        // Minta ("cunha") o NFT para o sender (quem ativa o contrato) usando msg.sender.
        _safeMint(msg.sender, newItemId);

        // Designa os dados do NFT.
        _setTokenURI(newItemId, "data:application/json;base64,ewogICJuYW1lIjogIlJhdGFvIiwKICAiZGVzY3JpcHRpb24iOiAiVW0gTkZUIHN1cGVyIGZhbW9zbyBkZSB1bSByYXRhbyBwYSIsCiAgImltYWdlIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWmxjbk5wYjI0OUlqRXVNQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTFPQ0F5TVRRaVBqeHdZWFJvSUdROUlrMHhPRFlnTVRVdU1XTXRNUzQwTGpVdE15NDJJREl0TkM0NUlETXVNaTB6TGpjZ015NDBMVEV3SURFekxqWXRNVEV1TWlBeE9DNHhMUzQySURJdU15MHlJRFl1TXkwekxqSWdPQzQ1TFRFdU9TQTBMamN0TWk0eUlEUXVPQzAxTGpFZ05DNHlMVEV1TnkwdU5DMDNMamt0TGprdE1UTXVPQzB4TGpJdE1UUXVOaTB1TnkweU5DNDNJREl1TXkwek15NHlJRGt1TnkweExqZ2dNUzQzTFRNdU5pQXpMVE11T1NBekxTNHlJREF0TVMweUxqRXRNUzQzTFRRdU5pMHhMak10TkM0MUxUY3VOeTB4TkM0eUxURXhMall0TVRjdU5TMDBMakl0TXk0MkxUSXlMakl0TVRJdE1qZ3VNUzB4TXk0eExUY3VNaTB4TGpNdE1URXVOQzB1TkMweE9DNHhJRE11T1MwekxqWWdNaTR6TFRVdU1pQTBMalV0T1M0eklERXlMamhETXpVdU55QTFOU0F6TXlBMk5TNDJJRE16SURjMkxqbGpNQ0E1TGpFZ01TNDVJREl4TGprZ05DNHpJREk0TGpnZ015NDFJREV3TGpFZ01URXVOU0F4T1M0NUlERTVJREl6TGpRZ05TNDJJREl1TlNBeE5pQXlMallnTWpBdU9TNHhiRE11TlMweExqa3VOeUE0TGpsak1TNHhJREUwTGpNZ05pNDBJRE15TGpjZ01URXVPU0EwUWpoeU0wSTBjRGQ1YUZKWWRVSlhUSEZ6VVRVME5sZFNORE5qY1ZGM2NtSllUVVJHYmtKcE5uWlRTa0psYVdZNGRGQlhPRFZoTjNJM1JFMDVOakZLZG1zMGFHUnllVnB2UW5sRmNEaEhRemhJZW5OeFNuQlNUalJHZUVkTk9TMDVMamtnTUMwdU55MHlMak10TWk0M0xUVXVNaTAwTGpZdE5DNDJMVE11TVMwMkxUTXVOQzB4TWk0eUxUTXVOUzB6TGpndExqRXRPQ0F1TXkwNUxqSXVOeTB5SUM0M0xUSXVOUzR5TFRVdU1pMDFMakV0TXk0MExUWXVOeTAwTGpndE1UTXVPQzAwTGpFdE1qQnNMalV0TkM0eklEVXVPQ0EwWXprdU5TQTJMamNnTVRRdU9DQTRMamdnTWpZdU1pQXhNQzQwSURFdU9DNHlJRElnTGprZ01TNDNJRFl1T0MwdU5TQTRMalV1TkNBNUxqTWdPQzQwSURjdU9DQXhNQzQwTFRFdU9DQTVMamd0TVNBNUxqRXRNVEF1TTJ3dExqVXRPQzR4SURJdU5TQTFMakpqTVM0eklESXVPU0F5TGpnZ05TNHpJRE11TXlBMUxqTnpNaTQyTFRFdU1TQTBMall0TWk0MUlEUXVNeTB5TGpVZ05TMHlMalZqTWk0eklEQWdNUzQyTFRNdU5DMHhMamN0Tnk0NExUSXVPUzAwTFRNdE5DNHlMUzQ1TFRRdU1pQXlMalVnTUNBNExUVXVNU0E0TFRjdU5DQXdMVEV1TXk0MkxURXVOU0F5TGpndExqa2dOQzQ1SURFdU1pQTJMamN1T1NBMkxqY3RNUzR5SURBdE1TNDFMVEV0TWk0eUxUUXVNaTB5TGprdE1pNDBMUzQxTFRRdU15MHhMak10TkM0ekxURXVOeUF3TFM0MUlERXVPQzB4TGpRZ05DNHhMVElnTkM0ekxURXVNeUExTGprdE15NHpJRFF1TVMwMUxqRXRNUzB4TFRFdU55MHVPUzA0TGpjZ01TNDNMVEV1TVM0MUxqRXRMamtnTWk0NExUTWdOQzQyTFRNdU55QTJMakl0Tnk0MUlETXVNUzAzTGpVdE1TNDBJREF0T0M0MUlEUXVOeTA1TGpJZ05pNHhMUzR4TGpNdE1pNDFMalF0TlM0eUxqRXRNaTQ0TFM0eUxUY2dMakV0T1M0MUxqZ3RPQzQ0SURJdU5TMHhOUzQxTFM0NUxUSTFMVEV5TGpZdE5pMDNMalF0T0M0eExUZ3VOeTA1TGpFdE5TNDVMUzQ0SURFdU9TQXpJRGNnTVRFdU1TQXhOUzR4SURRdU9TQTFJRFV1T0NBMkxqUWdOQzQySURjdU1TMHlMamNnTVM0M0xTNDBJRFF1TVNBMUxqUWdOUzQwSURVdU5pQXhMak1nTlM0M0lERXVNeUF6SURJdU5pMHhMall1T1MweUxqVWdNaTR4TFRJdU15QXpMakV1TkNBeExqZ2dNUzQ1SURJZ05TNHpMamNnTVM0NUxTNDRJREV1T0MwdU5pMHVNaUF4TGpjdE1TNHpJREV1TXkweUxqTWdNaTQ1TFRJdU15QXpMalVnTUNBeUxqTWdNeTR4SURJdU1TQTFMamt0TGpJZ015NDRMVE11TXlBMUxqRXRNeTR5SURJZ0xqRXROQzR5SURRdU5DMHhNUzQ0SURjdU5DMHhPUzR4SURjdU5DMDRMamdnTUMweE5DNDVMVEl1TVMweU15NDRMVGd0TVRFdU9DMDNMamt0TVRVdE5pNDNMVEUxSURZZ01DQTNMaklnTWk0NElERTJMalFnTmk0NUlESXlMamtnTkM0eElEWXVOQ0ExTGpnZ055NDRJREV5TGpZZ01UQXVObXcxTGpZZ01pNHpMVE11TWlBeExqRmpMVFF1TlNBeExqWXROeTQ0SURFdU5DMHhOUzR4TFM0NUxUVXVOUzB4TGpjdE55NDBMVEl1T1MweE1pNDFMVGd1TXkwMkxqVXROaTQ0TFRrdU9DMHhNaTQxTFRFekxqRXRNakl1TnkwMUxqUXRNVFl1T0MwMkxqZ3RNek11T1MwekxqSXRNemt1T0NBeExqRXRNUzQ0SURJdE15NDVJREl0TkM0M2N5NDRMVE1nTVM0M0xUVmpNUzR6TFRJdU5pQXhMalF0TXk0NExqVXROQzQzTFRFdU55MHhMamN0TXk0NExqVXROeTR6SURjdU9DMHlMalVnTlM0MExUTXVPQ0EyTGprdE9DNHlJRGt1TkMwNExqZ2dOUzR4TFRFM0xqSWdNeTQyTFRJMUxqTXROQzQxTFRrdU1TMDVMVEV6TGpRdE1qSXVOQzB4TXk0MExUUkNPSEl6UWpSd04zbG9VbGgxUWxkTWNYTlJOVFEyVjFJME0yTnhVWGR5WWxoTlJFWnVRbWsyZGxOS1FtVnBaamgwVUZjNE5XRTNjamRFVFRrMk1VcDJhelJvWkhKNVdtOUNlVVZ3T0VkRE9FaDZjM0ZLY0ZKT05FWjRSMDA1TVRjdU5pQTJMakVnTVRJdU55QTJMalVnTVRZdU55QXhNQzQ0SURJeExqTWdNakl1T1NBekxqVWdPUzR4SURVZ09TNDFJREV4TGpnZ015NDBJREV3TGpjdE9TNDJJREkyTFRFeUxqZ2dORUk0Y2pOQ05IQTNlV2hTV0hWQ1YweHhjMUUxTkRaWFVqUXpZM0ZSZDNKaVdFMUVSbTVDYVRaMlUwcENaV2xtT0hSUVZ6ZzFZVGR5TjBSTk9UWXhTblpyTkdoa2NubGFiMEo1UlhBNFIwTTRTSHB6Y1Vwd1VrNDBSbmhIVFRrekxUUXVNeUEzTGpZZ01TQXhNUzR6SURJdU9TQXhOaTQ0SURndU5pQTRMaklnT0M0MUlEa3VPQ0F4Tnk0NElEWWdNemN1TWkwMExqSWdNakV1TnkwM0xqZ2dNekV0TVRNZ016UXVNUzB6TGpZZ01pNHlMVGN1TlNBeUxqRXRNVEl1TnkwdU1pMHpMalV0TVM0MkxUUXVOQzB4TGpjdE5TNHpMUzQyTFM0NElERXRMallnTVM0NElERXVNU0F6TGpRZ01pNDRJREl1TmlBM0xqUWdNeTQxSURFMExqSWdNaTQ0SURRdU5TMHVOQ0ExTGpZdE1TQTRMamd0TkM0MklEWXVNeTAzTGpFZ01USXVPQzB6TWk0eUlERXpMakV0TlRBdU9TNHlMVEV4TGpndE1TNDRMVEUzTGpJdE9TMHlOQzQxTFRjdU1pMDNMalF0TVRFdE9TMHlNaTR5TFRrdU5DMDFMakl0TGpJdE1UQXVOaTR5TFRFeUlDNDRlbTB0TXk0NElERXlNeTQxWXk0M0lEZ3VPQzB6TGpjZ01USXVNUzA0TGpZZ05pNDBMVEV1T0MweUxqSXRNaTQyTFRRdU15MHlMall0Tnk0eFZqRXpOR2d4TUM0NGJDNDBJRFF1Tm5wdExUY3VOQ0F4T1dNeUxqSWdNeTQwSURJdU15QXpMall1TlNBMExqa3RNU0F1T0MweUxqRWdNUzR4TFRJdU5DNDNMVEV1TWkweExqTXRNaTQ1TFRjdU5DMHlMak10T0M0ekxqa3RNUzQySURFdU9DMHhJRFF1TWlBeUxqZDZiUzB4TWk0NElEa3VNMk11TkNBekxqTXVNaUExTGpRdExqVWdOUzQyTFM0MUxqSXRNaTQxTGpZdE5DNHlMamxzTFRNdU15NDFkaTAwTGpkak1DMDFMalF1TnkwMkxqZ2dNeTQxTFRjdU5TQXpMalF0TGpnZ05DMHVNaUEwTGpVZ05TNHllazB4TkRFdU1TQXhPRFJzTWk0MElERXVPUzAxTGpFdU1XTXROUzQwSURBdE1URXVOQzB4TGpZdE1URXVOQzB6TGpFZ01DMHVOU0F5TGpjdExqa2dOUzQ1TFM0NUlEUXVOQ0F3SURZdU5TNDFJRGd1TWlBeWVpSXZQanh3WVhSb0lHUTlJazB4T1RRdU1pQXpNMk10Tmk0NElESXVPQzB4TXk0M0lERXhMalF0TVRNZ01UWXVNeTQxSURNdU55QTBMakVnTWk0NElEUXVPUzB4TGpFZ01TNDNMVGd1TlNBeE5DNHlMVEUwTGpjZ01UY3VPUzA1SURJZ015NHhJREl1TmlBeU1pNDJJREVnTXpBdU5Hd3RNUzR6SURVdU9TMHhMakl0TldNdE1TNHlMVFV1TmkwMkxqTXRNVFV1TVMwNUxqUXRNVGN1T1MweUxqTXRNaTAxTGpFdE1TNDFMVFV1TVM0NUlEQWdMamtnTVM0eElESXVOaUF5TGpRZ015NDRJRFF1TlNBMElEY3VOU0F4TVM0MUlEZ3VNeUF5TUM0M0xqa2dPUzQzSURJdU1pQXhNQzQ0SURZZ05TNHhJRFF1TkMwMkxqUWdOUzQ0TFRFekxqUWdOUzQzTFRJNExqRWdNQzB4TkMwdU5TMHhOaTR4TFRRdU55MHlNQzQ0TFRJdU1pMHlMalF0Tnk0eUxUSXVPUzB4TVM0MUxURXVNbnB0TFRFeU5DQXhNbU10TXlBeUxqRXROUzR4SURRdU9TMDNMallnTVRBdU1pMDJMamdnTVRRdU5DMDNMamdnTWpFdU9TMDJMaklnTkVJNGNqTkNOSEEzZVdoU1dIVkNWMHh4YzFFMU5EWlhValF6WTNGUmQzSmlXRTFFUm01Q2FUWjJVMHBDWldsbU9IUlFWemcxWVRkeU4wUk5PVFl4U25ack5HaGtjbmxhYjBKNVJYQTRSME00U0hwemNVcHdVazQwUm5oSFRUa2dNUzQzTFM0MklESXVNaTB4TGpZZ01pMHpMakV0TGpZdE5DNDFMVE11TmkwekxqSXRNVEl1TXlBMUxqWXRPQzQ1SURrdE1URXVNU0F4TWk0MUxURTBMakVnTWpFdU9TMHlMaklnTnk0eExUTXVOQ0ExTGpndE15NDBMVE11T0VNMk1DQTJPU0EyT1M0MUlEUkNPSEl6UWpSd04zbG9VbGgxUWxkTWNYTlJOVFEyVjFJME0yTnhVWGR5WWxoTlJFWnVRbWsyZGxOS1FtVnBaamgwVUZjNE5XRTNjamRFVFRrMk1VcDJhelJvWkhKNVdtOUNlVVZ3T0VkRE9FaDZjM0ZLY0ZKT05FWjRSMDA1TXk0eUxUZ3RNeTR5TFRFdU1TQXdMVE11T0NBeExqTXROaTR4SURONmJURXdOUzQxSURJMExqZGpMUzQ0SURFdU5pMHhMamtnTkM0MExUSXVOaUEyTGpNdExqWWdNUzQ1TFRNdU9DQTJMalV0Tnk0eElERXdMakl0TkM0MklEVXVNUzAzTGpNZ055NHhMVEV4TGpNZ09DNDJMVE11TkNBeExqTXROUzR5SURJdU5TMDFMakVnTXk0MklEQWdMamt1TVNBMUxqSXVNaUE1TGpZdU1pQTJMak11TmlBNExqUWdNaTR4SURrdU9TQXlMalVnTWk0MUlEa3VPQ0F6TGpVZ01UVXVOaUF5SURndU9TMHlMak1nTVRBdU5TMDVMalFnTlM0ekxUSTBMalJzTFRJdU5TMDNJREl1T1MwekxqVmpNeTQwTFRRdU1TQTNMamt0TVRRdU5pQTNMakV0TVRZdU5pMHVPQzB5TGpNdE15NHhMVEV1TmkwMExqWWdNUzR6ZW0wdE5TQXpOeTR5WXk0MklEWXRMakVnTnk0eUxUUXVOQ0E0TGpVdE1pNHpMamN0TWk0ekxqWXRNaTR6TFRjdU9TQXdMVGN0TGpNdE9DNDNMVEV1TnkwNUxqSnpMVEV1TWkweElERXVNeTB6YkRJdU9TMHlMak1nTVM0NUlEUXVNbU14SURJdU15QXlJRFl1TnlBeUxqTWdPUzQzZW0wdE1UTXVNaTB6TGpKak1DQXlMamN1TkNBMkxqVXVPQ0E0TGpVdU9TQTBMakV0TGpFZ05DNDVMVEl1T0NBeUxqRXRNUzQwTFRFdU15MHhMalV0TWk0M0xURXROeTQzTGpRdE15NDBMamt0Tmk0MElERXVNaTAyTGprZ01TNHhMVEV1T0NBeExqZ3RMak1nTVM0NElEUjZiUzAxTmk0eExUSTJMalZqTFM0MExqWXRMakVnTVM0MkxqY2dNaTR6TGpndU5pQXpMallnTXk0MElEWXVNaUEyTGpKc05DNDVJRFV0TVM0MUlEUXVOV010TGprZ01pNDBMVEV1T0NBNUxqWXRNaTR5SURFMUxqbHNMUzQ0SURFeExqWWdNaTQ1SURJdU1tTXlMalFnTVM0NUlETXVOeUF5TGpJZ055NHpJREV1TnlBMkxqUXRMamtnTVRFdU1pMHpMallnTVRNdU15MDNMallnTVM0MkxUSXVPQ0F4TGpndE5DNDRJREV1TkMweE1DNHpMUzQyTFRZdU1TMHVOUzAyTGpjZ01TNHpMVFl1TnlBeUxqTWdNQ0F6TGpVdE1pNDFJREV1T0MwekxqZ3RMamN0TGpVdE15NHlMVEV1TWkwMUxqWXRNUzQyTFRZdU5TMHhMVGd1T0MweUxqWXRNVGN1TlMweE1pMDNMall0T0M0eUxURXdMall0TVRBdE1USXVNaTAzTGpSNmJUSTNMalFnTXpJdU1XTXVNaUEwTGpjZ01DQTNMamN0TGpjZ09DNHhMUzQzTGpVdE1TNHhMVEV0TVM0eExUUXVOaUF3TFRJdU9TMHVNeTAyTGpNdExqWXROeTQyTFM0M0xUSXVOQzB6TGpNdE1pNDVMVFV1TWkweExURXVOaUF4TGpZdE1TNDFJREV3TGpjdU1pQXhOQ0F4TGpZZ015NHhMamNnTXk0NExUUXVOaUF6TGpob0xUTXVNV3d1TmkweE1TNHpZeTQ1TFRFMkxqWXVOaTB4Tmk0eElEZ3RNVEl1TVd3MkxqRWdNeTR5TGpRZ055NDFlaUl2UGp4eVpXTjBJSGRwWkhSb1BTSXhNREFsSWlCb1pXbG5hSFE5SWpFd01DVWlJR1pwYkd3OUltNXZibVVpSUhOMGNtOXJaVDBpSXpBd01DSWdjM1J5YjJ0bExYZHBaSFJvUFNJeE1DSXZQanh5WldOMElIZHBaSFJvUFNJNU1DVWlJR2hsYVdkb2REMGlNekFpSUhnOUlqVWxJaUI1UFNJeU1DVWlJR1pwYkd3OUlpTm1abVlpTHo0OGRHVjRkQ0I0UFNJMU1DVWlJSGs5SWpJNEpTSWdZMnhoYzNNOUluQnlaV1pwZUY5ZlltRnpaU0lnWkc5dGFXNWhiblF0WW1GelpXeHBibVU5SW0xcFpHUnNaU0lnZEdWNGRDMWhibU5vYjNJOUltMXBaR1JzWlNJK0NpQWdJQ0JVZFdKaGFXNWhJRTF2Y1hWbFkyRWdUV0Z5WVdOMWFtRUtJQ0E4TDNSbGVIUStQQzl6ZG1jKyIKfQ==");
        console.log("Um NFT com o ID %s foi mintado para %s", newItemId, msg.sender);

        // Incrementa o contador para quando o próximo NFT for mintado.
        _tokenIds.increment();
    }
}